% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/panoramic-visualization.R
\name{create_spatial_network}
\alias{create_spatial_network}
\title{Construct spatial colocalization network from PANORAMIC results}
\usage{
create_spatial_network(se_diff, fdr_threshold = 0.05, directed = FALSE)
}
\arguments{
\item{se_diff}{A SummarizedExperiment returned by
\code{pano_compare_groups()}, where rowData(se_diff) contains
at least ct1, ct2, z_diff, p_diff, and fdr_diff.}

\item{fdr_threshold}{Numeric scalar. FDR threshold used to define
significant edges (default 0.05).}

\item{directed}{Logical. If TRUE, keep edges directed as
(ct1 -> ct2). If FALSE (default), create a symmetric
undirected network by adding reversed edges before simplification.}
}
\value{
A list with components:
\itemize{
\item graph: an igraph object with edge attributes
weight, fdr, pval and vertex attributes
cluster, cluster_id, degree, betweenness, strength.
\item clusters: the community structure object from
\code{igraph::cluster_leiden()}.
\item n_clusters: number of detected clusters.
\item modularity: modularity score of the clustering.
}
}
\description{
Build a cell-type network where edges represent significant differential
spatial colocalization between cell-type pairs, based on the output of
\code{pano_compare_groups()} (or a compatible function). Negative
\code{z_diff} values (reduced colocalization in the case group) are
encoded as edges, weighted by |z|.
}
